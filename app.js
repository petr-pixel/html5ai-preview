(function(){
  'use strict';
  var DEFAULT_SIZES=[{key:'300x250',w:300,h:250,on:true},{key:'320x50',w:320,h:50,on:false},{key:'320x100',w:320,h:100,on:false},{key:'250x250',w:250,h:250,on:false},{key:'200x200',w:200,h:200,on:false},{key:'336x280',w:336,h:280,on:false},{key:'728x90',w:728,h:90,on:false},{key:'970x90',w:970,h:90,on:false},{key:'160x600',w:160,h:600,on:false},{key:'300x600',w:300,h:600,on:true}],sizes=JSON.parse(JSON.stringify(DEFAULT_SIZES)),state={},fontDataUrl=null;sizes.forEach(function(s){state[s.key]={bgX:0,bgY:0,bgScale:1,logoX:0,logoY:0,logoScale:1,h:{x:0,y:0,size:28,color:'#ffffff',font:'Inter'},s:{x:0,y:0,size:16,color:'#cfe3ff',font:'Inter'},c:{x:0,y:0,size:16,textColor:'#061123',bgColor:'#E4572E',font:'Inter'}}});function el(id){return document.getElementById(id)}function on(id,ev,fn){var n='string'==typeof id?el(id):id;n&&n.addEventListener(ev,fn,!1)}function px(n){return n+'px'}function activeSizes(){return sizes.filter(s=>s.on)}function readFileToUrl(i,c){var f=i.files&&i.files[0];if(!f)return;var r=new FileReader;r.onload=function(){c(r.result)},r.readAsDataURL(f)}function render(){var g=el('preview');g.innerHTML='';var hl=el('headline').value,sl=el('subline').value,ct=el('cta').value,bgCss=el('bg').value,logoUrl=el('logoUrl').value,bgUrl=el('bgUrl').value;activeSizes().forEach(function(s){var st=state[s.key];st.h.size=parseInt(el('hSize').value,10)||st.h.size,st.h.color=el('hColor').value||st.h.color,st.h.font=el('hFont').value||st.h.font,st.s.size=parseInt(el('sSize').value,10)||st.s.size,st.s.color=el('sColor').value||st.s.color,st.s.font=el('sFont').value||st.s.font,st.c.size=parseInt(el('cSize').value,10)||st.c.size,st.c.textColor=el('cTextColor').value||st.c.textColor,st.c.bgColor=el('cBgColor').value||st.c.bgColor,st.c.font=el('cFont').value||st.c.font}),activeSizes().forEach(function(s){var card=document.createElement('div');card.className='previewCard';var lab=document.createElement('div');lab.className='previewLabel',lab.textContent=s.key.replace('x','×');var canvas=document.createElement('div');canvas.className='canvas',canvas.style.width=px(s.w),canvas.style.height=px(s.h);var banner=document.createElement('div');banner.className='banner',banner.style.background=bgCss,banner.style.color='#fff',banner.dataset.sizeKey=s.key;var tr=state[s.key];if(bgUrl){var bgImg=document.createElement('img');bgImg.alt='bg',bgImg.style.left='50%',bgImg.style.top='50%',bgImg.style.transform='translate(calc(-50% + '+tr.bgX+'px), calc(-50% + '+tr.bgY+'px)) scale('+tr.bgScale+')',bgImg.style.transformOrigin='center center',bgImg.style.height='110%',bgImg.style.minWidth='110%',bgImg.style.opacity='.95',bgImg.src=bgUrl,banner.appendChild(bgImg)}var H=document.createElement('div');H.className='headline',H.textContent=hl,H.style.fontSize=px(tr.h.size),H.style.color=tr.h.color,H.style.fontFamily=tr.h.font,H.style.transform='translate(calc(-50% + '+tr.h.x+'px), calc(-50% + '+tr.h.y+'px))';var S=document.createElement('div');S.className='subline',S.textContent=sl,S.style.fontSize=px(tr.s.size),S.style.color=tr.s.color,S.style.fontFamily=tr.s.font,S.style.transform='translate(calc(-50% + '+tr.s.x+'px), calc(-50% + '+tr.s.y+'px))';var C=document.createElement('div');C.className='cta',C.textContent=ct,C.style.color=tr.c.textColor,C.style.background=tr.c.bgColor,C.style.fontFamily=tr.c.font,C.style.fontSize=px(tr.c.size),C.style.bottom=px(Math.max(8,Math.round(s.h*.05)-tr.c.y)),C.style.left='50%',C.style.transform='translate(calc(-50% + '+tr.c.x+'px))',C.style.padding=px(Math.max(4,Math.round(s.h*.04)))+' '+px(Math.max(8,Math.round(s.w*.04)));if(logoUrl){var L=document.createElement('img');L.alt='logo',L.style.left='10px',L.style.top='10px',L.style.transform='translate('+tr.logoX+'px,'+tr.logoY+'px) scale('+tr.logoScale+')',L.style.height=px(Math.round(s.h*.12)),L.style.width='auto',L.style.opacity='.95',L.src=logoUrl,banner.appendChild(L)}banner.appendChild(H),banner.appendChild(S),banner.appendChild(C),card.appendChild(lab),card.appendChild(canvas),canvas.appendChild(banner),g.appendChild(card)}),renderPerSize(),validate()}!function(){var d=null;on('preview','pointerdown',function(e){var t=e.target,b=t.closest('.banner');if(!b)return;var k=b.dataset.sizeKey,tp=null;'bg'===t.alt?tp='bg':'logo'===t.alt?tp='logo':t.classList.contains('headline')?tp='h':t.classList.contains('subline')?tp='s':t.classList.contains('cta')&&(tp='c'),tp&&(d={key:k,type:tp,el:t,startX:e.clientX,startY:e.clientY},e.preventDefault(),t.setPointerCapture&&t.setPointerCapture(e.pointerId))}),on('preview','pointermove',function(e){if(!d)return;var dx=e.clientX-d.startX,dy=e.clientY-d.startY,tr=state[d.key];'bg'===d.type?(tr.bgX+=dx,tr.bgY+=dy,d.el.style.transform='translate(calc(-50% + '+tr.bgX+'px), calc(-50% + '+tr.bgY+'px)) scale('+tr.bgScale+')'):'logo'===d.type?(tr.logoX+=dx,tr.logoY+=dy,d.el.style.transform='translate('+tr.logoX+'px,'+tr.logoY+'px) scale('+tr.logoScale+')'):'h'===d.type?(tr.h.x+=dx,tr.h.y+=dy,d.el.style.transform='translate(calc(-50% + '+tr.h.x+'px), calc(-50% + '+tr.h.y+'px))'):'s'===d.type?(tr.s.x+=dx,tr.s.y+=dy,d.el.style.transform='translate(calc(-50% + '+tr.s.x+'px), calc(-50% + '+tr.s.y+'px))'):'c'===d.type&&(tr.c.x+=dx,tr.c.y-=dy,d.el.style.transform='translate(calc(-50% + '+tr.c.x+'px))'),d.startX=e.clientX,d.startY=e.clientY}),['pointerup','pointercancel','pointerleave'].forEach(function(ev){on('preview',ev,function(){d=null,render()})})}();function renderPerSize(){var w=el('perSize');w.innerHTML='',activeSizes().forEach(function(s){var tr=state[s.key],mx=Math.max(s.w,s.h),d=document.createElement('div');d.className='card',d.style.marginTop='10px',d.innerHTML='<div class="mini" style="margin-bottom:6px">'+s.key.replace("x","×")+'</div><div class="grid2"><div><label>BG X</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.bgX+'" data-k="'+s.key+'" data-t="bg" data-f="x"><label>BG Y</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.bgY+'" data-k="'+s.key+'" data-t="bg" data-f="y"><label>BG Scale</label><input type="range" min="50" max="250" value="'+Math.round(tr.bgScale*100)+'" data-k="'+s.key+'" data-t="bg" data-f="s"></div><div><label>Logo X</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.logoX+'" data-k="'+s.key+'" data-t="logo" data-f="x"><label>Logo Y</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.logoY+'" data-k="'+s.key+'" data-t="logo" data-f="y"><label>Logo Scale</label><input type="range" min="50" max="250" value="'+Math.round(tr.logoScale*100)+'" data-k="'+s.key+'" data-t="logo" data-f="s"></div></div><div class="grid2" style="margin-top:10px"><div><label>Headline X</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.h.x+'" data-k="'+s.key+'" data-t="h" data-f="x"><label>Headline Y</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.h.y+'" data-k="'+s.key+'" data-t="h" data-f="y"><label>Subline X</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.s.x+'" data-k="'+s.key+'" data-t="s" data-f="x"><label>Subline Y</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.s.y+'" data-k="'+s.key+'" data-t="s" data-f="y"></div><div><label>CTA X</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.c.x+'" data-k="'+s.key+'" data-t="c" data-f="x"><label>CTA Y</label><input type="range" min="'+-mx+'" max="'+mx+'" value="'+tr.c.y+'" data-k="'+s.key+'" data-t="c" data-f="y"></div></div>',w.appendChild(d)}),w.querySelectorAll('input[type=range]').forEach(function(r){r.addEventListener('input',function(e){var t=e.target,k=t.getAttribute('data-k'),type=t.getAttribute('data-t'),f=t.getAttribute('data-f'),v=parseInt(t.value,10),tr=state[k];'bg'===type?('x'===f?tr.bgX=v:'y'===f?tr.bgY=v:tr.bgScale=v/100):'logo'===type?('x'===f?tr.logoX=v:'y'===f?tr.logoY=v:tr.logoScale=v/100):'h'===type?('x'===f?tr.h.x=v:tr.h.y=v):'s'===type?('x'===f?tr.s.x=v:tr.s.y=v):'c'===type&&('x'===f?tr.c.x=v:tr.c.y=v),render()},!1)})}!function(){document.getElementById('sizes').querySelectorAll('input[type=checkbox]').forEach(function(cb){cb.addEventListener('change',function(){var key=cb.getAttribute('data-size'),s=sizes.find(x=>x.key===key);s&&(s.on=cb.checked,render())})})}();function urlsFrom(o,ps){return ps.map(p=>o.replace(/\/$/,'')+p)}function tryLoadImage(u){return new Promise(function(res){var i=new Image;i.crossOrigin='anonymous',i.onload=function(){res({ok:!0,url:u,img:i})},i.onerror=function(){res({ok:!1,url:u})},i.src=u})}async function firstImage(cs){for(var i=0;i<cs.length;i++){var r=await tryLoadImage(cs[i]);if(r.ok)return r}return null}function dominantColor(img){try{var c=document.createElement('canvas'),x=c.getContext('2d');c.width=img.naturalWidth,c.height=img.naturalHeight,x.drawImage(img,0,0);for(var d=x.getImageData(0,0,c.width,c.height).data,r=0,g=0,b=0,n=0,i=0;i<d.length;i+=16)r+=d[i],g+=d[i+1],b+=d[i+2],n++;return r=Math.round(r/n),g=Math.round(g/n),b=Math.round(b/n),'#'+[r,g,b].map(x=>('0'+x.toString(16)).slice(-2)).join('')}catch(e){return null}}async function smartExtract(raw){try{if(!raw)return;var u=new URL(raw);el('clickUrl').value=raw;var logos=urlsFrom(u.origin,['/favicon.ico','/favicon.png','/apple-touch-icon.png','/logo.png','/assets/logo.png','/static/logo.png','/img/logo.png','/images/logo.png','/brand/logo.png']),heros=urlsFrom(u.origin,['/og-image.jpg','/og-image.png','/banner.jpg','/banner.png','/images/hero.jpg','/images/kv.jpg']),L=await firstImage(logos);if(L&&L.ok){el('logoUrl').value=L.url;var dom=dominantColor(L.img);dom&&(el('cBgColor').value=dom)}var H=await firstImage(heros);H&&H.ok&&(el('bgUrl').value=H.url),render()}catch(e){console.warn('extract err',e),render()}}function presetCss(p,d){var dur=parseFloat(d)||2,delay=.2,css='';return css+='@keyframes fadeIn{from{opacity:0}to{opacity:1}}',css+='@keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}',css+='@keyframes slideLeft{from{opacity:0;transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}',css+='@keyframes slideRight{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}',css+='@keyframes pop{from{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}','none'===p?'':('fade'===p?'.headline,.subline,.cta,img[alt="logo"]{animation:fadeIn '+dur+'s ease both} .subline{animation-delay:'+delay+'s} .cta{animation-delay:'+2*delay+'s} img[alt="logo"]{animation-delay:'+3*delay+'s}':'slideUp'===p?'.headline,.subline,.cta,img[alt="logo"]{animation:slideUp '+dur+'s ease both} .subline{animation-delay:'+delay+'s} .cta{animation-delay:'+2*delay+'s} img[alt="logo"]{animation-delay:'+3*delay+'s}':'slideSide'===p?'.headline{animation:slideLeft '+dur+'s ease both} .subline{animation:slideLeft '+dur+'s ease '+delay+'s both} .cta{animation:slideRight '+dur+'s ease '+2*delay+'s both} img[alt="logo"]{animation:slideUp '+dur+'s ease '+3*delay+'s both}':'pop'===p?'.headline,.subline,.cta,img[alt="logo"]{animation:pop '+dur+'s ease both} .subline{animation-delay:'+delay+'s} .cta{animation-delay:'+2*delay+'s} img[alt="logo"]{animation-delay:'+3*delay+'s}':'.headline{animation:slideLeft '+dur+'s ease both} .subline{animation:slideRight '+dur+'s ease '+delay+'s both} .cta{animation:slideUp '+dur+'s ease '+2*delay+'s both} img[alt="logo"]{animation:fadeIn '+dur+'s ease '+3*delay+'s both}') )}function totalAnimDuration(){var loops=parseInt(el('animLoops').value,10)||1,d=parseFloat(el('animDur').value)||2;return loops*(d+.6)}function crc32(b){var t=function(){for(var c,t=new Uint32Array(256),n=0;n<256;n++){for(c=n, k=0;k<8;k++)c=c&1?3988292384^c>>>1:c>>>1;t[n]=c>>>0}return t}(),crc=0^-1;for(var i=0;i<b.length;i++)crc=crc>>>8^t[(crc^b[i])&255];return crc^-1>>>0}function s2u(s){return new TextEncoder().encode(s)}function le(n,b){for(var a=new Uint8Array(b),i=0;i<b;i++)a[i]=n>>>8*i&255;return a}function cat(ch){for(var t=0,c=0;c<ch.length;c++)t+=ch[c].length;for(var o=new Uint8Array(t),p=0,c=0;c<ch.length;c++)o.set(ch[c],p),p+=ch[c].length;return o}function mkzip(files){var locals=[],centrals=[],off=0,t=0,d=0;files.forEach(function(f){var n=s2u(f.name),data=f.data,crc=crc32(data),sz=data.length,lh=cat([s2u('PK\x03\x04'),le(20,2),le(0,2),le(0,2),le(t,2),le(d,2),le(crc,4),le(sz,4),le(sz,4),le(n.length,2),le(0,2)]),local=cat([lh,n,data]);locals.push(local);var ch=cat([s2u('PK\x01\x02'),le(20,2),le(20,2),le(0,2),le(0,2),le(t,2),le(d,2),le(crc,4),le(sz,4),le(sz,4),le(n.length,2),le(0,2),le(0,2),le(0,2),le(0,2),le(0,4),le(off,4)]);centrals.push(cat([ch,n])),off+=local.length});var central=cat(centrals),localsCat=cat(locals),end=cat([s2u('PK\x05\x06'),le(0,2),le(0,2),le(files.length,2),le(files.length,2),le(central.length,4),le(localsCat.length,4),le(0,2)]);return new Blob([localsCat,central,end],{type:'application/zip'})}function minify(s){return String(s).replace(/\n+/g,'').replace(/\s{2,}/g,' ')}function int(n){return Math.round(n)}function htmlForSize(w,h,o){var tr=state[w+'x'+h],anim=presetCss(o.animPreset,o.animDur),loops=Math.min(3,parseInt(o.animLoops,10)||1),stop=Math.min(30,loops*(parseFloat(o.animDur)||2)+.6*loops),fontFace=o.fontDataUrl?'@font-face{font-family:CustomFont;src:url('+o.fontDataUrl+') format("'+(o.fontDataUrl.split(';')[0].endsWith('woff2')?'woff2':'woff')+'");font-weight:normal;font-style:normal;font-display:swap}':'',hFont='Inter'===o.hFont&&o.fontDataUrl?'CustomFont':o.hFont,sFont='Inter'===o.sFont&&o.fontDataUrl?'CustomFont':o.sFont,cFont='Inter'===o.cFont&&o.fontDataUrl?'CustomFont':o.cFont,html='<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="ad.size" content="width='+w+',height='+h+'"><title>banner</title><style>'+fontFace+':root{--w:'+w+'px;--h:'+h+'px}*{box-sizing:border-box}html,body{margin:0;width:var(--w);height:var(--h);overflow:hidden}.banner{position:relative;width:var(--w);height:var(--h);background:'+o.bgCss+';color:#fff;font-family:Arial,Helvetica,sans-serif;overflow:hidden}.headline{position:absolute;left:50%;top:45%;transform:translate(calc(-50% + '+tr.h.x+'px), calc(-50% + '+tr.h.y+'px));width:calc(var(--w) - 40px);text-align:center;font-weight:800;line-height:1.1;font-size:'+tr.h.size+'px;color:'+tr.h.color+';font-family:'+hFont+'}.subline{position:absolute;left:50%;top:63%;transform:translate(calc(-50% + '+tr.s.x+'px), calc(-50% + '+tr.s.y+'px));width:calc(var(--w) - 50px);text-align:center;font-weight:500;line-height:1.2;font-size:'+tr.s.size+'px;color:'+tr.s.color+';font-family:'+sFont+'}.cta{position:absolute;left:50%;bottom:'+Math.max(8,int(h*.05)-tr.c.y)+'px;transform:translate(calc(-50% + '+tr.c.x+'px));padding:'+Math.max(4,int(h*.04))+'px '+Math.max(8,int(w*.04))+'px;border-radius:999px;background:'+tr.c.bgColor+';color:'+tr.c.textColor+';font-weight:800;font-size:'+tr.c.size+'px;letter-spacing:.2px;font-family:'+cFont+';box-shadow:0 6px 14px rgba(0,0,0,.22)}.logo{position:absolute;left:10px;top:10px;transform:translate('+tr.logoX+'px,'+tr.logoY+'px) scale('+tr.logoScale+');height:'+int(h*.12)+'px;width:auto;opacity:.95}'+(o.bgUrl?'.bg{position:absolute;left:50%;top:50%;transform:translate(calc(-50% + '+tr.bgX+'px), calc(-50% + '+tr.bgY+'px)) scale('+tr.bgScale+');transform-origin:center center;height:110%;min-width:110%;opacity:.95;z-index:0}':'')+anim+'</style><script>window.clickTag='+JSON.stringify(o.clickUrl)+';setTimeout(function(){var b=document.querySelectorAll(".headline,.subline,.cta,img");for(var i=0;i<b.length;i++)b[i].style.animationIterationCount="'+loops+'";},0);setTimeout(function(){var b=document.querySelectorAll(".headline,.subline,.cta,img");for(var i=0;i<b.length;i++)b[i].style.animationPlayState="paused";},'+int(stop*1e3)+');</'+'script></head><body><a href="javascript:window.open(window.clickTag)" style="text-decoration:none"><div class="banner">'+(o.bgUrl?'<img class="bg" src="'+o.bgUrl+'" alt="bg"/>':'')+'<div class="headline">'+o.headline+'</div><div class="subline">'+o.subline+'</div><div class="cta">'+o.cta+'</div>'+(o.logoUrl?'<img class="logo" src="'+o.logoUrl+'" alt="logo"/>':'')+'</div></a></body></html>';return minify(html)}function exportZip(){var o={headline:el('headline').value,subline:el('subline').value,cta:el('cta').value,clickUrl:el('clickUrl').value,bgCss:el('bg').value,logoUrl:el('logoUrl').value,bgUrl:el('bgUrl').value,animPreset:el('animPreset').value,animDur:el('animDur').value,animLoops:el('animLoops').value,fontDataUrl:fontDataUrl,hFont:el('hFont').value,sFont:el('sFont').value,cFont:el('cFont').value},files=[];activeSizes().forEach(function(s){var html=htmlForSize(s.w,s.h,o);files.push({name:s.w+'x'+s.h+'/index.html',data:new TextEncoder().encode(html)})}),files.length>40?alert('Překročeno 40 souborů v ZIPu. Zruš některé rozměry.'):function(){var total=files.reduce((a,f)=>a+f.data.length,0);total>153600&&alert('Odhad ZIPu přesahuje 150 kB ('+Math.round(total/1024)+' kB). Zmenši obrázky nebo sniž počet rozměrů.');if(totalAnimDuration()>30)return void alert('Celková doba animace by překročila 30 s. Uprav délku/počet loopů.');var blob=function(files){var locals=[],centrals=[],off=0,t=0,d=0;files.forEach(function(f){var n=new TextEncoder().encode(f.name),data=f.data,crc=function(b){var t=function(){for(var c,t=new Uint32Array(256),n=0;n<256;n++){for(c=n,k=0;k<8;k++)c=c&1?3988292384^c>>>1:c>>>1;t[n]=c>>>0}return t}(),crc=0^-1;for(var i=0;i<b.length;i++)crc=crc>>>8^t[(crc^b[i])&255];return crc^-1>>>0}(data),sz=data.length,lh=(e=>{for(var a=new Uint8Array(e),i=0;i<e;i++)a[i]=0;return a})(0);lh=new Uint8Array([]);var header=new Uint8Array([80,75,3,4,20,0,0,0,0,0,0,0,0,0]);var lhn=new Uint8Array(26);var dv=new DataView(lhn.buffer);dv.setUint32(0,crc,true);dv.setUint32(4,sz,true);dv.setUint32(8,sz,true);dv.setUint16(12,n.length,true);dv.setUint16(14,0,true);var local=new Uint8Array(header.length+n.length+lhn.length+data.length);local.set(header,0);local.set(n,header.length);local.set(lhn,header.length+n.length);local.set(data,header.length+n.length+lhn.length);locals.push(local);var ch=new Uint8Array([80,75,1,2,20,0,20,0,0,0,0,0,0,0,0,0]);var chn=new Uint8Array(30);var dv2=new DataView(chn.buffer);dv2.setUint32(0,crc,true);dv2.setUint32(4,sz,true);dv2.setUint32(8,sz,true);dv2.setUint16(12,n.length,true);dv2.setUint16(14,0,true);dv2.setUint16(16,0,true);dv2.setUint16(18,0,true);dv2.setUint32(20,off,true);var central=new Uint8Array(ch.length+n.length+chn.length);central.set(ch,0);central.set(n,ch.length);central.set(chn,ch.length+n.length);centrals.push(central);off+=local.length});var totalLen=0;locals.forEach(b=>totalLen+=b.length);centrals.forEach(b=>totalLen+=b.length);var end=new Uint8Array([80,75,5,6,0,0,0,0]);var endn=new Uint8Array(10);var dv3=new DataView(endn.buffer);var csize=0;centrals.forEach(b=>csize+=b.length);var lsize=0;locals.forEach(b=>lsize+=b.length);dv3.setUint16(0,files.length,true);dv3.setUint16(2,files.length,true);dv3.setUint32(4,csize,true);dv3.setUint32(8,lsize,true);var out=new Uint8Array(totalLen+end.length+endn.length);var o=0;locals.forEach(b=>{out.set(b,o);o+=b.length});centrals.forEach(b=>{out.set(b,o);o+=b.length});out.set(end,o);out.set(endn,o+end.length);return new Blob([out],{type:'application/zip'})}(files);var a=document.createElement('a');a.href=URL.createObjectURL(blob),a.download='html5ai-banners.zip',a.click()}()}function validate(){var issues=[],animT=(parseInt(el('animLoops').value,10)||1)*((parseFloat(el('animDur').value)||2)+.6);animT>30&&issues.push({level:'error',msg:'Animace > 30 s'});var badge=el('badge'),list=el('issues');list.innerHTML='',0===issues.length?(badge.className='badge ok',badge.textContent='OK — připraveno k exportu'):(badge.className='badge '+(issues.some(i=>'error'===i.level)?'err':'warn'),badge.textContent=issues.some(i=>'error'===i.level)?'Problémy — zkontroluj níže':'Varování',issues.forEach(function(i){var li=document.createElement('li');li.textContent='['+i.level.toUpperCase()+'] '+i.msg,list.appendChild(li)}))}['headline','subline','cta','clickUrl','bg','hSize','hColor','hFont','sSize','sColor','sFont','cSize','cTextColor','cBgColor','cFont','animPreset','animDur','animLoops'].forEach(function(id){on(id,'input',function(){render()}),on(id,'change',function(){render()})}),on('logoFile','change',function(e){readFileToUrl(e.target,function(u){el('logoUrl').value=u,render()})}),on('bgFile','change',function(e){readFileToUrl(e.target,function(u){el('bgUrl').value=u,render()})}),on('fontFile','change',function(e){readFileToUrl(e.target,function(u){fontDataUrl=u,render()})}),on('importUrl','click',function(){smartExtract(el('brandUrl').value||'')});var ez=function(){exportZip()};on('exportZip','click',ez),on('exportZipTop','click',ez),document.addEventListener('DOMContentLoaded',function(){render()},!1)})();